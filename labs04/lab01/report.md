# Отчет по лабораторной работе 1
# Инкапсуляция

**Дата:** 05-12-2025
**Семестр:** 2 курс, 1 семестр
**Группа:** ПИН-Б-О-24-2
**Дисциплина:** Технологии программирования
**Студент:** Осипов Александр Сергеевич

## Цель работы

Освоить базовый принцип объектно-ориентированного программирования - инкапсуляцию. Реализовать класс `Employee` (Сотрудник) с приватными атрибутами и свойствами для доступа к ним с валидацией данных.

## Теоретическая часть

**Инкапсуляция** - это один из ключевых принципов ООП, который заключается в сокрытии внутренней реализации объекта и предоставлении строго определенного интерфейса для взаимодействия с ним. В Python инкапсуляция реализуется через:

1. **Приватные атрибуты** - атрибуты, начинающиеся с двойного подчеркивания (`__attribute`), которые не могут быть напрямую доступны извне класса
2. **Свойства (properties)** - механизм доступа к приватным атрибутам через методы-геттеры и сеттеры с использованием декораторов `@property` и `@<attribute>.setter`
3. **Валидация данных** - проверка корректности данных при их установке через сеттеры

Инкапсуляция обеспечивает:
- Защиту данных от некорректного изменения
- Контроль доступа к данным
- Возможность добавления логики валидации при установке значений
- Гибкость в изменении внутренней реализации без изменения интерфейса

## Практическая часть

### Выполненные задачи

- Задача 1: Создан класс `Employee` с приватными атрибутами `__id`, `__name`, `__department`, `__base_salary`
- Задача 2: Реализованы свойства (геттеры и сеттеры) для всех атрибутов с использованием декораторов `@property`
- Задача 3: Добавлена валидация данных в сеттерах (проверка типов и допустимых значений)
- Задача 4: Реализован метод `__str__` для строкового представления объекта
- Задача 5: Создана демонстрационная программа с примерами работы класса

### Ключевые фрагменты кода

#### Класс Employee с инкапсуляцией

```python
class Employee:
    def __init__(self, employee_id: int, name: str, department: str, base_salary: float):
        # Устанавливаем значения через свойства для валидации
        self.id = employee_id
        self.name = name
        self.department = department
        self.base_salary = base_salary
    
    @property
    def id(self) -> int:
        """Геттер для идентификатора сотрудника."""
        return self.__id
    
    @id.setter
    def id(self, value: int):
        """Сеттер с валидацией."""
        if not isinstance(value, int):
            raise ValueError("ID должен быть целым числом")
        if value <= 0:
            raise ValueError("ID должен быть положительным числом")
        self.__id = value
```

#### Пример валидации в сеттере зарплаты

```python
@base_salary.setter
def base_salary(self, value: float):
    if not isinstance(value, (int, float)):
        raise ValueError("Зарплата должна быть числом")
    if value <= 0:
        raise ValueError("Зарплата должна быть положительным числом")
    self.__base_salary = float(value)
```

## Результаты выполнения

### Пример работы программы

```bash
============================================================
Демонстрация работы класса Employee
============================================================

1. Создание сотрудников с корректными данными:
------------------------------------------------------------
Создан: Сотрудник [id: 1, имя: Иван Петров, отдел: Разработка, базовая зарплата: 50000.0]
Создан: Сотрудник [id: 2, имя: Мария Сидорова, отдел: Продажи, базовая зарплата: 45000.0]
Создан: Сотрудник [id: 3, имя: Алексей Иванов, отдел: Менеджмент, базовая зарплата: 60000.0]

2. Получение значений через свойства (геттеры):
------------------------------------------------------------
Сотрудник 1: Иван Петров, отдел: Разработка, зарплата: 50000.0
Сотрудник 2: Мария Сидорова, отдел: Продажи, зарплата: 45000.0

3. Изменение значений через свойства (сеттеры):
------------------------------------------------------------
До изменения: Сотрудник [id: 1, имя: Иван Петров, отдел: Разработка, базовая зарплата: 50000.0]
После изменения: Сотрудник [id: 1, имя: Иван Петрович, отдел: Тестирование, базовая зарплата: 55000.0]

4. Попытка установки невалидных значений:
------------------------------------------------------------
Корректно обработана ошибка ID: ID должен быть положительным числом
Корректно обработана ошибка имени: Имя не может быть пустой строкой
Корректно обработана ошибка зарплаты: Зарплата должна быть положительным числом
Корректно обработана ошибка типа ID: ID должен быть целым числом

5. Вывод всех созданных объектов:
------------------------------------------------------------
Сотрудник [id: 1, имя: Иван Петрович, отдел: Тестирование, базовая зарплата: 55000.0]
Сотрудник [id: 2, имя: Мария Сидорова, отдел: Продажи, базовая зарплата: 45000.0]
Сотрудник [id: 3, имя: Алексей Иванов, отдел: Менеджмент, базовая зарплата: 60000.0]

============================================================
Демонстрация завершена успешно!
============================================================
```

### Тестирование

- Модульные тесты пройдены - класс корректно создает объекты с валидными данными
- Интеграционные тесты пройдены - все свойства работают корректно, валидация срабатывает
- Производительность соответствует требованиям - класс работает эффективно

### UML-диаграмма классов

UML-диаграмма создана в формате PlantUML и находится в файле `report/uml_diagram.puml`.

Диаграмма показывает:
- Приватные атрибуты класса (__id, __name, __department, __base_salary)
- Публичные свойства для доступа к атрибутам
- Методы класса (__init__, __str__)
- Принцип инкапсуляции через сокрытие внутренней реализации

## Выводы

1. **Инкапсуляция успешно реализована** - все данные сотрудника защищены через приватные атрибуты, доступ к которым осуществляется только через свойства с валидацией.

2. **Валидация данных работает корректно** - все попытки установить невалидные значения (отрицательные числа, пустые строки, неверные типы) обрабатываются через исключения `ValueError` с понятными сообщениями об ошибках.

3. **Интерфейс класса интуитивен** - использование свойств делает работу с классом удобной (например, `employee.name = "Новое имя"` вместо `employee.set_name("Новое имя")`), при этом сохраняется контроль над данными.

4. **Код готов к расширению** - базовая структура класса позволяет легко добавлять новые атрибуты и методы в последующих лабораторных работах.

## Ответы на контрольные вопросы

1. **Что такое инкапсуляция в ООП?** - Инкапсуляция - это принцип ООП, заключающийся в сокрытии внутренней реализации объекта и предоставлении контролируемого доступа к данным через публичный интерфейс.

2. **Как в Python реализуются приватные атрибуты?** - В Python приватные атрибуты создаются с помощью двойного подчеркивания в начале имени (`__attribute`). Python автоматически переименовывает такие атрибуты, делая их недоступными напрямую извне класса.

3. **Что такое property в Python?** - Property (свойство) - это механизм, позволяющий использовать методы как атрибуты. С помощью декораторов `@property` и `@<attribute>.setter` можно создать геттеры и сеттеры, которые вызываются при обращении к атрибуту.

4. **Зачем нужна валидация данных в сеттерах?** - Валидация данных в сеттерах необходима для обеспечения целостности данных объекта. Она предотвращает установку некорректных значений и помогает выявить ошибки на раннем этапе.

5. **В чем разница между инкапсуляцией и сокрытием данных?** - Инкапсуляция - более широкое понятие, включающее сокрытие данных, но также подразумевающее объединение данных и методов в одном объекте. Сокрытие данных - это конкретный механизм защиты данных от прямого доступа.

## Приложения

- [Исходный код: `project/employee.py`](project/employee.py)
- [UML-диаграмма: `report/uml_diagram.puml`](report/uml_diagram.puml)
- [Задание: `task.md`](task.md)

