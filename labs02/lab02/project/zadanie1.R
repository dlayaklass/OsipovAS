# Лабораторная работа №2
# Задание 1 - Структурное программирование
# Программа для расчета площади фигур (Вариант 1: Треугольник, Квадрат, Прямоугольник, Параллелограмм)

# БЛОК-СХЕМА (описание):
# 1. Начало (овал)
# 2. Инициализация счетчика попыток = 0 (прямоугольник)
# 3. Ввод названия фигуры (параллелограмм)
# 4. Проверка: название фигуры корректно? (ромб)
#    - Если ДА: переход к шагу 5
#    - Если НЕТ: переход к шагу 6
# 5. Запрос параметров фигуры (параллелограмм)
# 6. Вычисление площади (прямоугольник)
# 7. Вывод результата и описания хода решения (параллелограмм)
# 8. Конец (овал)
# 9. (Если название некорректно) Увеличение счетчика попыток на 1 (прямоугольник)
# 10. Проверка: счетчик попыток >= 3? (ромб)
#     - Если ДА: вывод сообщения об ошибке и завершение (параллелограмм, овал)
#     - Если НЕТ: возврат к шагу 3

# РЕАЛИЗАЦИЯ НА ЯВУ (R):

# Список допустимых фигур для варианта 1
valid_figures <- c("треугольник", "квадрат", "прямоугольник", "параллелограмм")

# Счетчик попыток
attempts <- 0
max_attempts <- 3

# Флаг для выхода из цикла
figure_found <- FALSE

# Цикл запроса названия фигуры
while (!figure_found && attempts < max_attempts) {
  # Запрос названия фигуры
  figure_name <- tolower(readline("Введите название фигуры (треугольник, квадрат, прямоугольник, параллелограмм): "))
  
  # Проверка корректности названия
  if (figure_name %in% valid_figures) {
    figure_found <- TRUE
    
    # Обработка треугольника
    if (figure_name == "треугольник") {
      base <- as.numeric(readline("Введите основание треугольника: "))
      height <- as.numeric(readline("Введите высоту треугольника: "))
      area <- 0.5 * base * height
      cat("\n=== РЕЗУЛЬТАТ ===\n")
      cat("Фигура: Треугольник\n")
      cat("Основание:", base, "\n")
      cat("Высота:", height, "\n")
      cat("Формула: Площадь = 0.5 * основание * высота\n")
      cat("Площадь треугольника:", area, "\n")
    }
    
    # Обработка квадрата
    if (figure_name == "квадрат") {
      side <- as.numeric(readline("Введите сторону квадрата: "))
      area <- side * side
      cat("\n=== РЕЗУЛЬТАТ ===\n")
      cat("Фигура: Квадрат\n")
      cat("Сторона:", side, "\n")
      cat("Формула: Площадь = сторона * сторона\n")
      cat("Площадь квадрата:", area, "\n")
    }
    
    # Обработка прямоугольника
    if (figure_name == "прямоугольник") {
      length <- as.numeric(readline("Введите длину прямоугольника: "))
      width <- as.numeric(readline("Введите ширину прямоугольника: "))
      area <- length * width
      cat("\n=== РЕЗУЛЬТАТ ===\n")
      cat("Фигура: Прямоугольник\n")
      cat("Длина:", length, "\n")
      cat("Ширина:", width, "\n")
      cat("Формула: Площадь = длина * ширина\n")
      cat("Площадь прямоугольника:", area, "\n")
    }
    
    # Обработка параллелограмма
    if (figure_name == "параллелограмм") {
      base <- as.numeric(readline("Введите основание параллелограмма: "))
      height <- as.numeric(readline("Введите высоту параллелограмма: "))
      area <- base * height
      cat("\n=== РЕЗУЛЬТАТ ===\n")
      cat("Фигура: Параллелограмм\n")
      cat("Основание:", base, "\n")
      cat("Высота:", height, "\n")
      cat("Формула: Площадь = основание * высота\n")
      cat("Площадь параллелограмма:", area, "\n")
    }
    
  } else {
    # Увеличение счетчика попыток
    attempts <- attempts + 1
    remaining <- max_attempts - attempts
    
    if (remaining > 0) {
      cat("Некорректное название фигуры. Осталось попыток:", remaining, "\n")
    } else {
      cat("Некорректность действий пользователя. Программа завершается.\n")
    }
  }
}

