# Лабораторная работа №2
# Задание 2 - Структурное программирование
# Программа вычисляющая площадь неправильного многоугольника

# БЛОК-СХЕМА (описание):
# 1. Начало (овал)
# 2. Ввод количества вершин N (параллелограмм)
# 3. Инициализация массивов для координат x и y (прямоугольник)
# 4. Цикл: для i от 1 до N (ромб начала цикла)
#    4.1. Ввод координаты x[i] (параллелограмм)
#    4.2. Ввод координаты y[i] (параллелограмм)
# 5. Инициализация суммы = 0 (прямоугольник)
# 6. Цикл: для i от 1 до N (ромб начала цикла)
#    6.1. Вычисление: sum = sum + x[i] * y[(i mod N) + 1] (прямоугольник)
#    6.2. Вычисление: sum = sum - y[i] * x[(i mod N) + 1] (прямоугольник)
# 7. Вычисление площади = |sum| / 2 (прямоугольник)
# 8. Вывод площади (параллелограмм)
# 9. Конец (овал)

# РЕАЛИЗАЦИЯ НА ЯВУ (R):
# Используется формула площади многоугольника (формула шнурков Гаусса)

# Ввод количества вершин
N <- as.integer(readline("Введите количество вершин многоугольника: "))

# Инициализация массивов для координат
x <- numeric(N)
y <- numeric(N)

# Ввод координат вершин (вершины задаются против часовой стрелки)
cat("Введите координаты вершин (против часовой стрелки):\n")
for (i in 1:N) {
  x[i] <- as.numeric(readline(paste("Введите x координату вершины", i, ": ")))
  y[i] <- as.numeric(readline(paste("Введите y координату вершины", i, ": ")))
}

# Вычисление площади по формуле шнурков Гаусса
# Площадь = 0.5 * |Σ(x[i] * y[i+1] - x[i+1] * y[i])|
sum_area <- 0

for (i in 1:N) {
  # Определение индекса следующей вершины (с замыканием на первую)
  next_i <- ifelse(i == N, 1, i + 1)
  
  # Формула шнурков Гаусса
  sum_area <- sum_area + (x[i] * y[next_i] - x[next_i] * y[i])
}

# Вычисление площади (берем абсолютное значение и делим на 2)
area <- abs(sum_area) / 2

# Вывод результата
cat("\n=== РЕЗУЛЬТАТ ===\n")
cat("Количество вершин:", N, "\n")
cat("Координаты вершин:\n")
for (i in 1:N) {
  cat("  Вершина", i, ": (", x[i], ",", y[i], ")\n")
}
cat("Площадь многоугольника:", area, "\n")

