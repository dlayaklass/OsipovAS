# Отчет по лабораторной работе №5
# Функциональное программирование (итерации и конвейеры)

**Дата:** 03-12-2025  
**Семестр:** 2 курс, 1 семестр  
**Группа:** ПИН-Б-О-24-2  
**Дисциплина:** Технологии программирования  
**Студент:** Осипов Александр Сергеевич

## Цель работы

Познакомиться с особенностями функционального программирования. Научиться применять функциональное программирование с использованием пакета purrr.

## Теоретическая часть

**Итерация** - организация обработки данных, при которой действия повторяются многократно. В функциональном программировании итерации реализуются через функции высшего порядка (map, reduce).

**Конвейер (pipeline)** - инструмент для передачи значения исходной функции в последующую. В R используется оператор `%>%`.

**Пакет purrr** предоставляет набор функций для функционального программирования, включая семейство функций `map_*`.

## Практическая часть

### Выполненные задачи

- [x] Задача 1: Создание именованного списка из данных repurrrsive
- [x] Задача 2: Описание функций семейства map_*

### Задание 1: Работа с данными repurrrsive

#### Код программы

```r
library(purrr)
library(repurrrsive)

data(sw_films, package = "repurrrsive")

# Извлечение названий фильмов
film_names <- map_chr(sw_films, ~ .x$title)

# Создание именованного списка
named_films_list <- sw_films %>%
  set_names(film_names)
```

#### Результаты выполнения

```
Количество элементов: 7
Имена элементов:
[1] "A New Hope"           "The Empire Strikes Back" "Return of the Jedi"
[4] "The Phantom Menace"    "Attack of the Clones"   "Revenge of the Sith"
[7] "The Force Awakens"

Доступ к фильму 'A New Hope':
Режиссер: George Lucas
Дата выхода: 1977-05-25
```

### Задание 2: Функции семейства map_*

#### Описание функций

**map(.x, .f, ...)** - базовая функция, возвращает список

**map_lgl(.x, .f, ...)** - возвращает логический вектор

**map_int(.x, .f, ...)** - возвращает целочисленный вектор

**map_dbl(.x, .f, ...)** - возвращает числовой вектор (double)

**map_chr(.x, .f, ...)** - возвращает символьный вектор

**map_dfr(.x, .f, ...)** - возвращает data.frame, объединяя по строкам

**map_dfc(.x, .f, ...)** - возвращает data.frame, объединяя по столбцам

**map_if(.x, .p, .f, ...)** - применяет .f только к элементам, удовлетворяющим предикату .p

**map_at(.x, .at, .f, ...)** - применяет .f только к элементам по указанным индексам

**walk(.x, .f, ...)** - применяет .f для побочных эффектов, возвращает исходный .x

#### Примеры

```r
# Пример с map_dbl
iris_list <- as.list(iris[1:4])
iris_means <- map_dbl(iris_list, ~ mean(.x))
# Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
#     5.843333     3.057333     3.758000     1.199333

# Пример с map_if
mixed_list <- list(1:3, "text", 4:6, "another")
result <- map_if(mixed_list, is.numeric, ~ sum(.x))
# [[1]]: 6
# [[2]]: "text"
# [[3]]: 15
# [[4]]: "another"
```

## Результаты выполнения

### Тестирование

- [x] Именованный список создан корректно
- [x] Доступ к элементам работает по имени и индексу
- [x] Все функции семейства map_* протестированы

## Выводы

1. Функциональное программирование упрощает работу с коллекциями данных
2. Конвейеры улучшают читаемость кода
3. Функции семейства map_* обеспечивают типобезопасность
4. Пакет purrr расширяет возможности функционального программирования в R

## Ответы на контрольные вопросы

### 1. Итерации в функциональном программировании

Итерации реализуются через функции высшего порядка (map, reduce), которые применяют функцию к каждому элементу коллекции. Это более декларативный подход, чем явные циклы.

### 2. Конвейеры (pipeline)

Конвейер - инструмент для передачи значения между функциями. В R используется оператор `%>%`. Улучшает читаемость и позволяет читать код слева направо.

### 3. Функции семейства map в пакете purrr

Все функции применяют функцию к каждому элементу коллекции, но различаются типом возвращаемого значения. Поддерживают формулу с тильдой `~ mean(.x)`.

## Приложения

- Исходный код: `project/zadanie1.R`, `project/zadanie2.R`
- Задание: `task.md`

